<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>강의 영상 업로드 - LMS</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        body {
            background: var(--bg-color);
        }

        .upload-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--card-bg);
            padding: 1rem 2rem;
            box-shadow: var(--shadow-sm);
            border-bottom: 1px solid var(--border-color);
        }

        .video-wrapper {
            background: #000;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #94a3b8;
        }

        .video-wrapper iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        .upload-info-panel .form-group {
            margin-bottom: 1.5rem;
        }

        .side-card h3 {
            margin-top: 0;
            color: var(--text-main);
            margin-bottom: 1.5rem;
        }

        .action-btn-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        @media (max-width: 1024px) {

            .video-wrapper,
            .video-wrapper iframe {
                height: 400px;
            }
        }

        @media (max-width: 768px) {

            .video-wrapper,
            .video-wrapper iframe {
                height: 250px;
            }
        }
    </style>
</head>

<body>
    <header class="upload-header">
        <div style="display:flex; align-items:center;">
            <a href="#" id="btnBackToProf" class="btn btn-back">&larr; 대시보드로 돌아가기</a>
            <h2 style="margin:0; margin-left:1.5rem; color:var(--text-main);">새 강의 업로드</h2>
        </div>
        <div id="userInfo"></div>
    </header>

    <main class="main-content">
        <div class="container lecture-layout">
            <!-- 메인 뷰어 및 입력 영역 -->
            <section class="main-lecture">
                <div class="video-wrapper" id="previewArea">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="margin-bottom:1rem;">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polygon points="10 8 16 12 10 16 10 8"></polygon>
                    </svg>
                    <p style="margin:0;">우측 패널에 유튜브 링크를 입력하고 [영상 연결]을 클릭하세요</p>
                </div>

                <div class="upload-info-panel">
                    <div class="form-group">
                        <input id="lecTitle" class="form-control" placeholder="강의 제목을 입력하세요"
                            style="width:100%; font-size:1.5rem; font-weight:700; box-sizing:border-box;">
                    </div>
                    <div class="form-group" style="margin-bottom:0;">
                        <textarea id="lecDesc" class="form-control" placeholder="강의에 대한 상세한 설명을 적어주세요" rows="5"
                            style="width:100%; box-sizing:border-box; resize:vertical; font-size:1rem;"></textarea>
                    </div>
                </div>
            </section>

            <!-- 사이드바 설정 영역 -->
            <aside class="sidebar">
                <div class="side-card">
                    <h3>영상 소스 연결</h3>
                    <div class="form-group" style="margin-bottom:1.5rem;">
                        <label for="lecLink"
                            style="display:block; margin-bottom:0.5rem; font-size:0.9rem; font-weight:600;">YouTube URL
                            링크</label>
                        <input id="lecLink" class="form-control" placeholder="https://youtube.com/..."
                            style="width:100%; box-sizing:border-box; margin-bottom:0.5rem;">
                        <button class="btn btn-secondary" id="btnPreviewVid" style="width:100%;">영상 연결하여 미리보기</button>
                    </div>
                </div>

                <div class="side-card">
                    <h3>자료 첨부 (선택)</h3>
                    <p style="font-size:0.85rem; color:var(--text-muted); margin-bottom:1rem;">강의에 함께 등록할 파일이 있다면 첨부하세요.
                    </p>
                    <div class="form-group" style="margin-bottom:1rem;">
                        <input type="file" id="resFile" class="form-control"
                            style="width:100%; box-sizing:border-box; padding:0.5rem; cursor:pointer;">
                    </div>
                    <p id="resFileNameDisplay"
                        style="font-size:0.85rem; color:var(--primary-color); font-weight:600; margin:0;"></p>
                </div>

                <div class="side-card">
                    <h3>최종 등록</h3>
                    <p style="font-size:0.9rem; color:var(--text-muted); margin-bottom:1.5rem;">강의와 자료가 모두 완벽한 상태라면
                        등록 버튼을 눌러주세요.</p>
                    <div class="action-btn-group">
                        <button id="btnCreateLec" class="btn btn-primary" style="padding:0.75rem; font-size:1rem;">강의 등록
                            완료</button>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- UI/UX 컴포넌트 뷰어 (Toast 포함 등 전역처리) -->
    <div id="toastContainer"
        style="position:fixed; bottom:2rem; right:2rem; display:flex; flex-direction:column; gap:0.5rem;"></div>

    <script type="module" src="../js/professor_upload.js"></script>
</body>

</html>